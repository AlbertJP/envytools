<?xml version="1.0" encoding="UTF-8"?>
<database xmlns="http://nouveau.freedesktop.org/"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://nouveau.freedesktop.org/ rules-ng.xsd">
<import file="copyright.xml"/>

<import file="nvchipsets.xml" />

<domain name="NV_MMIO" bare="yes" prefix="chipset">

<group name="nv84_xtensa_common">
	<reg32 offset="0x028" name="CHANNEL_CUR"/>
	<reg32 offset="0x02c" name="CHANNEL_NEXT"/>
	<reg32 offset="0x030" name="XT_REGION_BASE" stride="0xc" length="16" shr="8"/>
	<reg32 offset="0x034" name="XT_REGION_SETUP" stride="0xc" length="16">
		<bitfield low="0" high="6" name="TARGET"/> <!-- 0x1c for physical VRAM, 0xf for the context dmaobj [?], 0-0xe for relevant DMA slot -->
		<bitfield low="8" high="10" name="MODE"/> <!-- caching or something? -->
	</reg32>
	<reg32 offset="0x038" name="XT_REGION_LIMIT" stride="0xc" length="16" shr="8"/>

	<reg32 offset="0x0fc" name="HOST_IO_INDEX"/>

	<reg32 offset="0x128" name="JOE"/>
	<reg32 offset="0x1e0" name="SCRATCH"/>
</group>

<array name="PVP" offset="0x00f000" stride="0x1000" length="1" variants="NV84:NV98 NVA0">
	<array offset="0xc00" name="XTENSA" stride="0x400">
		<use-group name="nv84_xtensa_common"/>
	</array>
</array>

<array name="PBSP" offset="0x103000" stride="0x1000" length="1" variants="NV84:NV98 NVA0">
	<array offset="0x200" name="VUC" stride="0x100">
		<reg32 offset="0x000" name="DATA" length="32"/> <!-- indexed like fÂµc, but only one word per index, instead of two -->
		<reg32 offset="0x084" name="CODE_CONTROL">
			<bitfield low="0" high="10" name="IP"/>
			<bitfield pos="16" name="PAUSE"/>
		</reg32>
		<reg32 offset="0x088" name="CODE"/>
	</array>
	<reg32 offset="0x420" name="BSP_REGION_BASE" stride="0x10" length="4" shr="8"/>
	<reg32 offset="0x424" name="BSP_REGION_TARGET" stride="0x10" length="4"/>
	<reg32 offset="0x428" name="BSP_REGION_LIMIT" stride="0x10" length="4" shr="8"/>
	<array offset="0xc00" name="XTENSA" stride="0x400">
		<use-group name="nv84_xtensa_common"/>
	</array>
</array>

</domain>

</database>
