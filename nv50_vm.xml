<database>
<import file="copyright.xml"/>
<import file="nv50_defs.xml"/>

<enum name="NV50_STORAGE_TYPE">
	<value value="0x00" name="LINEAR"/>

	<value value="0x10" name="Z24S8_MS1"/>
	<value value="0x11" name="Z24S8_MS2"/>
	<value value="0x12" name="Z24S8_MS4"/>
	<value value="0x13" name="Z24S8_MS8"/>

	<value value="0x18" name="Z24S8_LSR_MS1"/>
	<value value="0x19" name="Z24S8_LSR_MS2"/>
	<value value="0x1a" name="Z24S8_LSR_MS4"/>
	<value value="0x1b" name="Z24S8_LSR_MS8"/>

	<value value="0x20" name="S8Z24_MS1"/>
	<value value="0x21" name="S8Z24_MS2"/>
	<value value="0x22" name="S8Z24_MS4"/>
	<value value="0x23" name="S8Z24_MS8"/>
	<value value="0x24" name="C8Z24_MS4_CS4"/>
	<value value="0x25" name="C8Z24_MS4_CS12"/>
	<value value="0x26" name="C8Z24_MS8_CS8"/>

	<value value="0x28" name="S8Z24_MS1_LSR"/>
	<value value="0x29" name="S8Z24_MS2_LSR"/>
	<value value="0x2a" name="S8Z24_MS4_LSR"/>
	<value value="0x2b" name="S8Z24_MS8_LSR"/>
	<value value="0x2c" name="C8Z24_MS4_CS4_LSR"/>
	<value value="0x2d" name="C8Z24_MS4_CS12_LSR"/>
	<value value="0x2e" name="C8Z24_MS8_CS8_LSR"/>

	<!-- in no way certain. -->
	<value value="0x40" name="Z32_MS1"/>
	<value value="0x41" name="Z32_MS2"/>
	<value value="0x42" name="Z32_MS4"/>
	<value value="0x43" name="Z32_MS8"/>

	<value value="0x44" name="TILED_24"/>
	<value value="0x45" name="TILED_24_MS4"/>
	<value value="0x46" name="TILED_24_MS8"/>

	<value value="0x47" name="Z32_MS1_LSR"/>
	<value value="0x48" name="Z32_MS2_LSR"/>
	<value value="0x49" name="Z32_MS4_LSR"/>
	<value value="0x4a" name="Z32_MS8_LSR"/>

	<!-- I hope you don't need to read that one aloud. -->
	<!-- think 64-bit big endian ordering. -->
	<value value="0x54" name="X16C8S8X8Z24_MS4_CS4"/>
	<value value="0x55" name="X16C8S8X8Z24_MS4_CS12"/>
	<value value="0x56" name="X16C8S8X8Z24_MS8_CS8"/>

	<value value="0x60" name="X24S8Z32_MS1"/>
	<value value="0x61" name="X24S8Z32_MS2"/>
	<value value="0x62" name="X24S8Z32_MS4"/>
	<value value="0x63" name="X24S8Z32_MS8"/>
	<value value="0x64" name="X16C8S8Z32_MS4_CS4"/>
	<value value="0x65" name="X16C8S8Z32_MS4_CS12"/>
	<value value="0x66" name="X16C8S8Z32_MS8_CS8"/>

	<!-- even less certain -->
	<value value="0x68" name="Z16_MS1"/>
	<value value="0x69" name="Z16_MS2"/>
	<value value="0x6a" name="Z16_MS4"/>
	<value value="0x6b" name="Z16_MS8"/>

	<value value="0x6c" name="Z16_MS1_LSR"/>
	<value value="0x6d" name="Z16_MS2_LSR"/>
	<value value="0x6e" name="Z16_MS4_LSR"/>
	<value value="0x6f" name="Z16_MS8_LSR"/>

	<value value="0x70" name="TILED"/> <!-- any uncompressed < 128bpp -->

	<value value="0x72" name="TILED_LSR"/>

	<value value="0x74" name="TILED_128"/>

	<value value="0x76" name="TILED_128_LSR"/>

	<value value="0x78" name="TILED_32_MS4"/>
	<value value="0x79" name="TILED_32_MS8"/>

	<value value="0x7a" name="TILED_32_MS4_LSR"/>
	<value value="0x7b" name="TILED_32_MS8_LSR"/>

	<value value="0x7c" name="TILED_64_MS4"/>
	<value value="0x7d" name="TILED_64_MS8"/>

	<!-- valid only in DMAobj -->
	<value value="0x7f" name="USEVM"/>
</enum>

<enum name="NV50_COMPRESSION">
	<value value="0" name="NONE"/>
	<value value="1" name="SINGLE"/>
	<value value="2" name="DOUBLE"/>
	<!-- valid only in DMAobj -->
	<value value="3" name="USEVM"/>
</enum>

<domain name="NV50_DMAOBJ" size="0x10">
	<reg32 offset="0x0" name="FLAGS">
		<bitfield low="0" high="15" name="CLASS"/>
		<bitfield low="16" high="17" name="TARGET">
			<!-- don't you love how every target field has sorta the same, but really different set of allowed values... -->
			<value value="0" name="VM"/>
			<value value="1" name="VRAM"/>
			<value value="2" name="SYSRAM"/>
			<value value="3" name="SYSRAM_NO_SNOOP"/>
		</bitfield>
		<bitfield low="18" high="19" name="ACCESSRW">
			<value value="0" name="USEVM"/>
			<value value="1" name="READ_ONLY"/>
			<value value="2" name="READ_WRITE"/>
		</bitfield>
		<bitfield low="20" high="21" name="ACCESSUS">
			<value value="0" name="USEVM"/>
			<value value="1" name="USER_SYSTEM"/>
			<value value="2" name="SYSTEM_ONLY"/>
		</bitfield>
		<bitfield low="22" high="28" name="STORAGE_TYPE" type="NV50_STORAGE_TYPE"/>
		<bitfield low="29" high="30" name="COMPRESSION" type="NV50_COMPRESSION"/>
		<bitfield pos="31" name="SUPERVISOR"/>
	</reg32>
	<reg32 offset="0x4" name="LIMIT"/>
	<reg32 offset="0x8" name="START"/>
	<reg32 offset="0xc" name="EXTRA">
		<bitfield low="0" high="7" name="START_HIGH"/>
		<bitfield low="24" high="31" name="LIMIT_HIGH"/>
	</reg32>
	<reg32 offset="0x10" name="COMP">
		<bitfield low="0" high="11" name="TAG_START"/>
		<bitfield low="16" high="27" name="TAG_LIMIT"/>
	</reg32>
	<reg32 offset="0x14" name="EXTRA2">
		<bitfield low="0" high="15" name="COMP_VRAM_START" shr="16"/>
	</reg32>
</domain>

<bitset name="NV50_PDE">
	<bitfield pos="0" name="PRESENT"/>
	<bitfield pos="1" name="PAGE_SIZE">
		<value value="0" name="64K"/>
		<value value="1" name="4K"/>
	</bitfield>
	<bitfield low="2" high="3" name="TARGET" type="nv50_mem_target"/>
	<!-- 4? -->
	<bitfield low="5" high="6" name="PT_SIZE">
		<value value="0" name="FULL"/>
		<value value="1" name="128M"/>
		<value value="2" name="64M"/>
		<value value="3" name="32M"/>
	</bitfield>
	<bitfield low="12" high="39" name="ADDRESS" shr="12"/>
</bitset>

<bitset name="NV50_PTE">
	<bitfield pos="0" name="PRESENT"/>
	<!-- 1? -->
	<!-- 2? -->
	<bitfield pos="3" name="READ_ONLY"/>
	<bitfield low="4" high="5" name="TARGET" type="nv50_mem_target"/>
	<bitfield pos="6" name="SYSTEM_ONLY"/>
	<bitfield low="7" high="9" name="CONTIG_BLOCK_LOG2"/>
	<bitfield low="12" high="39" name="ADDRESS" shr="12"/>
	<bitfield low="40" high="46" name="STORAGE_TYPE" type="NV50_STORAGE_TYPE"/>
	<bitfield low="47" high="48" name="COMPRESSION" type="NV50_COMPRESSION"/>
	<bitfield low="49" high="60" name="TAG"/>
</bitset>

</database>

